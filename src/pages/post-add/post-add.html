<!--
  Generated template for the PostAddPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-content padding [formGroup]="postForm">
  <ion-list>
    <ion-item>
      <ion-input placeholder="Title" formControlName="title"></ion-input>
    </ion-item>
    <p  style="color:red;" *ngIf="postForm.get('title').dirty && postForm.get('title').hasError('minlength')">Title must be at least 5 characters</p>

    <ion-item>
      <ion-input type="file" placeholder="Feature image" (change)="setFile($event)"></ion-input>
    </ion-item>
    <!-- <progress value="{{postImageUploadPercentage}}" max="100"></progress>
    <p>{{postImageTypeTransfered}}/{{postImageTotalType}} byte transfered</p> -->
    <ion-item>
      <ckeditor [editor]="Editor" data="content" formControlName="content"></ckeditor>
    </ion-item>
    <p style="color:red;" *ngIf="postForm.get('content').dirty && postForm.get('content').hasError('minlength')">Content must be at least 200 characters</p>
    <p style="color:red;" *ngIf="postForm.get('content').hasError('maxlength')">Content must be maximum 6000 characters </p>

  </ion-list>
  <button ion-button large color="primary" [disabled]="postForm.invalid" (click)="savePost()">Save Post</button>

</ion-content>
